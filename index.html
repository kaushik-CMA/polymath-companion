<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Polymath Companion</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
</head>

<body>

  <!-- ===============================
       MAIN NAVIGATION
  ================================ -->
  <nav id="bottomNav">
  <button data-view="home" aria-label="Home">
    <img src="resources/home.png" />
  </button>

  <button data-view="calendar" aria-label="Calendar">
    <img src="resources/calendar.png" />
  </button>

  <button data-view="today" aria-label="Today" id="todayNavBtn">
    <span id="todayLabel"> </span>
  </button>

  <button data-view="library" aria-label="Library">
    <img src="resources/library.png" />
  </button>

  <button data-view="settings" aria-label="Settings">
    <img src="resources/settings.png" />
  </button>
</nav>

  <main class="container">

    <!-- ===============================
         HOME
    ================================ -->
    <section id="view-home">

      <h1>Polymath Companion</h1>

      <div class="subtitle">
        <em>A quiet place to stay in touch with ideas that matter — over time :)</em>
      </div>

      <div class="app-logo">
        <img
          src="resources/logotransparent.png"
          alt="Polymath Companion logo"
        />
      </div>  
      <br>

      

      <div class="home-philosophy muted section">
  <p>
    Being a polymath is not the accumulation of facts.
It is a deliberate practice — exploring ideas across disciplines, noticing their shared patterns, and revisiting the truths that bind them together.
   
  </p>

</div>


      <!-- Add Topic -->
      <button id="addTopicBtn" class="add-topic-quiet">
  <span class="plus">＋</span>
  <span>Add a topic</span>
</button>
      <!-- Add Topic Form -->
      <div id="addTopicForm" style="display:none;">

        <input
          id="topicTitleInput"
          placeholder="Topic title *"
        />

        <!-- Intervals -->
        <div>
          <label>Intervals (days) *</label>
          <div id="intervalChips"></div>
         

          <input
            id="intervalNumberInput"
            type="number"
            placeholder="Add interval (days)"
          />
          <button id="addIntervalBtn" type="button">Add</button>
        </div>

         <div id="intervalHistory" class="interval-history"></div>

        <!-- Domain -->
        <label for="topicDomainInput">
          Domain:
          </label>
          <input
            id="topicDomainInput"
            type="text"
            list="domainSuggestions"
            placeholder="category"
          />
        
        <datalist id="domainSuggestions"></datalist>

        <!-- subDomain -->
        <label for="topicSubDomainInput">
          Sub-domain:
        
            <input
              id="topicSubDomainInput"
              type="text"
              list="subDomainSuggestions"
              placeholder="Sub-category"
              disabled
              class="disabled-input"
            />
        </label>
            <datalist id="subDomainSuggestions"></datalist>

            
        <!-- Start Date -->
        <label for="topicStartDateInput">
          Start Date:
          </label>
          <input id="topicStartDateInput" type="date" />
        

        <!-- Notes -->
        
          <label for="topicNotesInput">Notes:</label>
          <div
  id="topicNotesInput"
  class="notes-editor"
  contenteditable="true"
  placeholder="Paste or write short notes here…"
></div>

<div class="notes-toolbar">
  <button type="button" data-cmd="bold" aria-label="Bold">
    <img src="resources/bold-24.png" />
  </button>

  <button type="button" data-cmd="italic" aria-label="Italic">
    <img src="resources/italic-24.png" />
  </button>

  <button type="button" data-cmd="underline" aria-label="Underline">
    <img src="resources/underline-24.png" />
  </button>

  <button type="button" data-cmd="clear" aria-label="Clear formatting">
    <img src="resources/erasor-24.png" />
  </button>

  <button type="button" id="copyNotesBtn" aria-label="Copy notes">
    <img src="resources/copy-24.png" />
  </button>
</div>



        <!-- Form Actions -->
        <div class="form-actions">
          <button id="saveTopicBtn" type="button">Save</button>
          <button
            id="cancelAddTopicBtn"
            type="button"
            class="secondary"
          >
            Cancel
          </button>
        </div>
      </div>

      
    </section>

    <!-- ===============================
         CALENDAR
    ================================ -->
    <section id="view-calendar">
      
      <div id="calendarSticky">
 
    
    <div id="calendarHeader">
          <button id="prevMonthBtn" type="button">◀</button>
          <span id="calendarTitle"></span>
          <button id="nextMonthBtn" type="button">▶</button>
          <button
            id="todayBtn"
            type="button"
            class="secondary small"
          >
            today
          </button>
        </div>
      
  <div id="calendarGrid">
  </div>
</div>

      

      <div id="calendar" class="section">

        

        
      </div>

      <h3 id="selectedDateHeader"></h3>
      <ul id="selectedDateTopics"></ul>

    </section>

    <!-- ===============================
         TODAY
    ================================ -->

<section id="view-today">
  <div class="today-header">
  <h3>Today</h3>
  <div class="today-date" id="todayDateLabel"></div>
</div>
<ul id="todayList" class="today-list"></ul>
  <div class="day-switcher">

  <div class="day-tabs">
    <button class="day-tab active" data-day="yesterday">Yesterday</button>
    <button class="day-tab" data-day="tomorrow">Tomorrow</button>
  </div>

  <div class="day-panel">

    <ul id="yesterdayList" class="day-list"></ul>
    <ul id="tomorrowList" class="day-list hidden"></ul>

  </div>

</div>
</section>
  


    <!-- ===============================
         LIBRARY
    ================================ -->
    <section id="view-library">
<div id="libraryControls" class="section library-controls">

  <div class="library-actions">
    <button id="toggleFiltersBtn" class="secondary small">
      Filters
    </button>

    <button id="clearLibraryFilters" class="secondary small">
      Reset
    </button>

    <button id="expandAllBtn" class="secondary small">
      <img src="resources/expand-24.png" alt="expand all">
    </button>

    <button id="collapseAllBtn" class="secondary small">
      <img src="resources/collapse-24.png" alt="collapse all">
    </button>
  </div>
        <!-- Filters Body -->
        <div class="filters-body">

          <input
            id="librarySearchInput"
            type="text"
            placeholder="Search topics..."
          />

          <!-- Status -->
          <div class="status-filter">
            <label>
              <input
                type="radio"
                name="status"
                value="active"
                checked
              />
              Active
            </label>
            <label>
              <input
                type="radio"
                name="status"
                value="completed"
              />
              Completed
            </label>
          </div>

          <!-- Domain -->
          <select id="domainFilter">
            <option value="">All domains</option>
          </select>

          <!-- Sort -->
          <select id="sortBy">
            <option value="title-asc">SortBy: Title (A–Z)</option>
            <option value="title-desc">SortBy: Title (Z–A)</option>

            <option value="date-asc">SortBy: Start date (Oldest first)</option>
            <option value="date-desc">SortBy: Start date (Latest first)</option>

            <option value="domain-asc">SortBy: Domain (A–Z)</option>
            <option value="domain-desc">SortBy: Domain (Z–A)</option>
          </select>
        </div>
        <div id="libraryCount" class="muted"></div>

      </div>

      <ul id="libraryList"></ul>
       <li class="library-item" data-id="TOPIC_ID"></li>
       
    </section>

    <!-- ===============================
         SETTINGS
    ================================ -->
    <section id="view-settings">

      <div class="subtitle">
        All data stays on your device. No account required.
      </div>

      <!-- Rate App -->
<div class="section settings-item" id="rateApp">
  <div class="settings-row">
    <img
      src="resources/rate-64.png"
      alt="Rate the app"
      class="settings-icon"
    />
    <span class="settings-text">Rate Polymath Companion</span>
  </div>
</div>

      
      <!-- Feedback -->
<div class="section settings-item clickable" id="feedbackBtn">
  <div class="settings-row">
    <img
      src="resources/feedback-64.png"
      alt="Feedback"
      class="settings-icon"
    />
    <span>Send feedback</span>
  </div>
</div>

<!-- Import / Export -->
      <div class="section">
  <h3>Import / Export</h3>

  <!-- Export -->
  <div class="settings-item clickable" id="exportBtn">
    <div class="settings-row">
      <img src="resources/export-24.png" class="settings-icon" />
      <span>Export data</span>
    </div>
  </div>

  <!-- Import -->
  <label class="settings-item clickable">
    <div class="settings-row">
      <img src="resources/import-24.png" class="settings-icon" />
      <span>Import data</span>
    </div>
    <input
      type="file"
      id="importInput"
      accept=".json"
      hidden
    />
  </label>

  <p class="muted">
    Import replaces all existing data.
  </p>
</div>

      <!-- Defaults -->
<div id="settingsPanel" class="section">

  <label for="defaultIntervalsInput">
    <img
      src="resources/default-24.png"
      alt="Default"
      class="settings-icon"
    />
       Default intervals (comma separated):
  </label>

  <input
    id="defaultIntervalsInput"
    type="text"
    placeholder="e.g. 3,10,30,60"
  />

  <button id="saveSettingsBtn" type="button">
    Save defaults
  </button>

</div>

      <!-- Load Sample Data -->
<div class="section">
  <h3>Try sample data</h3>

  <div class="settings-item clickable" id="loadSampleDataBtn">
    <button class="secondary settings-row">
      <img src="resources/magicHat-24.png" class="settings-icon" />
      Load sample topics
    </button>
  </div>

  <p class="muted">
    Replaces current data with example topics for exploration.
  </p>
</div>
      <!-- Clear All Data -->
<div class="section danger-zone">
  <button id="clearDataBtn" class="secondary danger">
    <img
      src="resources/clearData-24.png"
      alt="Clear all data"
      class="icon"
    />
    Clear all data
  </button>

  <div class="subtitle muted">
    Permanently deletes all topics and settings from this device.
  </div>
</div>

      <!-- Credits -->
      <!-- Credits -->
<div class="section">
  <div class="settings-row">
    <img
      src="resources/credits-24.png"
      alt="Credits"
      class="settings-icon"
    />
    <h3 style="margin: 0;">Icon credits</h3>
  </div>

  <p class="muted">
    Icons used in this app are provided by Flaticon contributors:
  </p>

  <ul class="credits-list">
    <li>dwicon — continuous learning icons</li>
    <li>Freepik — friends, heart, gear, underline icons</li>
    <li>NajmunNahar — emoji icons</li>
    <li>bqlqn — delete icons</li>
    <li>Prosymbols Premium — bold option icons</li>
    <li>BW Designer — italic icons</li>
    <li>Gregor Cresnar — paper icons</li>
    <li>pictranoosa — paste icons</li>
    <li>prinda895 — eraser icons</li>
    <li>Aranagraphics — magic icons</li>
    <li>meaicon — interval icons</li>
    <li>Anggara — home page icons</li>
    <li>RIkas Dzihab — ebook icons</li>
    <li>Bharat Icons — calendar, save icons</li>
    <li>Icongeek26 — pencil icons</li>
    <li>Pixel perfect — close icons</li>
    <li>Erix — hide icons</li>
    <li>yaicon — eye icons</li>
    <li>Md Tanvirul Haque — right hand icons</li>
    <li>Fathema Khanom — file upload icons</li>
    <li>Cap Cool — collapse icons</li>
  </ul>

  <p class="muted">
    Icons sourced from
    <a
      href="https://www.flaticon.com"
      target="_blank"
      rel="noopener noreferrer"
    >
      Flaticon
    </a>
  </p>
</div>  
    </section>

  </main>

  <!-- ===============================
       SCRIPTS
  ================================ -->
  <script src="state.js"></script>
  <script src="intervals.js"></script>
  <script src="calendar.js"></script>
  <script src="library.js"></script>
  <script src="ui-events.js"></script>
   <script src="demo.js"></script>
  <script src="app.js"></script>
 

</body>
</html>