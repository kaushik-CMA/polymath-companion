<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Polymath Companion</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
</head>

<body>

  <!-- ===============================
       MAIN NAVIGATION
  ================================ -->
  <nav id="bottomNav">
  <button data-view="home" aria-label="Home">
    <img src="resources/home.png" />
  </button>

  <button data-view="calendar" aria-label="Calendar">
    <img src="resources/calendar.png" />
  </button>

  <button data-view="today" aria-label="Today" id="todayNavBtn">
    <span id="todayLabel"> </span>
  </button>

  <button data-view="library" aria-label="Library">
    <img src="resources/library.png" />
  </button>

  <button data-view="settings" aria-label="Settings">
    <img src="resources/settings.png" />
  </button>
</nav>

  <main class="container">

    <!-- ===============================
         HOME
    ================================ -->
    <section id="view-home">

      <h1>Polymath Companion</h1>

      <div class="app-logo">
        <img
          src="resources/logotransparent.png"
          alt="Polymath Companion logo"
        />
      </div>

      <div class="subtitle">
        <em>A quiet place to stay in touch with ideas that matter — over time :)</em>
      </div>

      <!-- Add Topic -->
      <button id="addTopicBtn" type="button">Add Topic</button>

      <!-- Add Topic Form -->
      <div id="addTopicForm" style="display:none;">

        <input
          id="topicTitleInput"
          placeholder="Topic title *"
        />

        <!-- Intervals -->
        <div>
          <label>Intervals (days) *</label>
          <div id="intervalChips"></div>
         

          <input
            id="intervalNumberInput"
            type="number"
            placeholder="Add interval (days)"
          />
          <button id="addIntervalBtn" type="button">Add</button>
        </div>

         <div id="intervalHistory" class="interval-history"></div>

        <!-- Domain -->
        <label>
          Domain:
          <input
            id="topicDomainInput"
            type="text"
            list="domainSuggestions"
            placeholder="category"
          />
        </label>
        <datalist id="domainSuggestions"></datalist>

        <!-- subDomain -->
        <label>
          Sub-domain:
            <input
              id="topicSubDomainInput"
              type="text"
              list="subDomainSuggestions"
              placeholder="Sub-category"
              disabled
              class="disabled-input"
            />
            <datalist id="subDomainSuggestions"></datalist>

            
        <!-- Start Date -->
        <label>
          Start Date:
          <input id="topicStartDateInput" type="date" />
        </label>

        <!-- Notes -->
        
          Notes:
          <div class="notes-editor">

  <div class="notes-toolbar">
  <button type="button" data-cmd="bold" aria-label="Bold">
    <img src="resources/bold-24.png" />
  </button>

  <button type="button" data-cmd="italic" aria-label="Italic">
    <img src="resources/italic-24.png" />
  </button>

  <button type="button" data-cmd="underline" aria-label="Underline">
    <img src="resources/underline-24.png" />
  </button>

  <button type="button" data-cmd="removeFormat" aria-label="Clear formatting">
    <img src="resources/erasor-24.png" />
  </button>
</div>
  <div
    id="topicNotesInput"
    class="notes-input"
    contenteditable="true"
    placeholder="Notes (optional)"
  ></div>

</div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button id="saveTopicBtn" type="button">Save</button>
          <button
            id="cancelAddTopicBtn"
            type="button"
            class="secondary"
          >
            Cancel
          </button>
        </div>
      </div>

      <div class="home-philosophy section">

  <h3>Who are polymaths?</h3>

  <p>
    Polymaths are people who stay curious across fields — not all at once,
    but over time.
  </p>

  <p>
    They don’t chase everything.  
    They return to what matters, again and again.
  </p>

  <p class="muted">
    Polymath Companion is built to support that rhythm.
  </p>

</div>

    </section>

    <!-- ===============================
         CALENDAR
    ================================ -->
    <section id="view-calendar">

      <h3>Calendar</h3>

      <div id="calendar" class="section">

        <div id="calendarHeader">
          <button id="prevMonthBtn" type="button">◀</button>
          <span id="calendarTitle"></span>
          <button id="nextMonthBtn" type="button">▶</button>
          <button
            id="todayBtn"
            type="button"
            class="secondary small"
          >
            today
          </button>
        </div>

        <div id="calendarGrid"></div>
      </div>

      <h3 id="selectedDateHeader"></h3>
      <ul id="selectedDateTopics"></ul>

    </section>

    <!-- ===============================
         TODAY
    ================================ -->

      <section id="view-today">
  <h3 id="todayHeader"></h3>
  <ul id="todayList"></ul>
</section>

  


    <!-- ===============================
         LIBRARY
    ================================ -->
    <section id="view-library">

      <div id="libraryControls" class="section library-controls">

        <h3>Library</h3>

        <!-- Filter Toggles -->
        <button
          id="toggleFiltersBtn"
          class="secondary small"
          type="button"
        >
          Show filters
        </button>

        <button
          id="clearLibraryFilters"
          class="secondary small"
          type="button"
        >
          Clear filters & set defaults
        </button>

        <!-- Filters Body -->
        <div class="filters-body">

          <input
            id="librarySearchInput"
            type="text"
            placeholder="Search topics..."
          />

          <!-- Status -->
          <div class="status-filter">
            <label>
              <input
                type="radio"
                name="status"
                value="active"
                checked
              />
              Active
            </label>
            <label>
              <input
                type="radio"
                name="status"
                value="completed"
              />
              Completed
            </label>
          </div>

          <!-- Domain -->
          <select id="domainFilter">
            <option value="">All domains</option>
          </select>

          <!-- Sort -->
          <select id="sortBy">
            <option value="title-asc">SortBy: Title (A–Z)</option>
            <option value="title-desc">SortBy: Title (Z–A)</option>

            <option value="date-asc">SortBy: Start date (Oldest first)</option>
            <option value="date-desc">SortBy: Start date (Latest first)</option>

            <option value="domain-asc">SortBy: Domain (A–Z)</option>
            <option value="domain-desc">SortBy: Domain (Z–A)</option>
          </select>
        </div>
      </div>

      <ul id="libraryList"></ul>

    </section>

    <!-- ===============================
         SETTINGS
    ================================ -->
    <section id="view-settings">

      <div class="subtitle">
        All data stays on your device. No account required.
      </div>

      <!-- Rate App -->
<div class="section settings-item" id="rateApp">
  <div class="settings-row">
    <img
      src="resources/rate-64.png"
      alt="Rate the app"
      class="settings-icon"
    />
    <span class="settings-text">Rate Polymath Companion</span>
  </div>
</div>

      
      <!-- Feedback -->
<div class="section settings-item clickable" id="feedbackBtn">
  <div class="settings-row">
    <img
      src="resources/feedback-64.png"
      alt="Feedback"
      class="settings-icon"
    />
    <span>Send feedback</span>
  </div>
</div>

<!-- Import / Export -->
      <h3>Import / Export</h3>
      <button id="exportBtn" type="button">Export data</button>

      <div class="subtitle">
        <em>Note:</em> Import replaces the entire current data.
      </div>

      <input
        type="file"
        id="importInput"
        accept=".json"
      />

      <!-- Defaults -->
<div id="settingsPanel" class="section">

  <label for="defaultIntervalsInput">
    <img
      src="resources/default-24.png"
      alt="Default"
      class="settings-icon"
    />
       Default intervals (comma separated):
  </label>

  <input
    id="defaultIntervalsInput"
    type="text"
    placeholder="e.g. 3,10,30,60"
  />

  <button id="saveSettingsBtn" type="button">
    Save defaults
  </button>

</div>

      <!-- Install -->
      <button
        id="installBtn"
        type="button"
        style="display:none"
      >
        Install App
      </button>

      <!-- Load Sample Data -->
<h3>Try with sample data</h3>

<button id="loadSampleDataBtn" type="button" class="secondary">
  <img src="resources/magicHat-24.png" alt="" />
  Load sample data
</button>

<p class="muted">
  Explore the app with example topics. This will replace current data.
</p>

      <!-- Clear All Data -->
<div class="section danger-zone">
  <button id="clearDataBtn" class="secondary danger">
    <img
      src="resources/clearData-24.png"
      alt="Clear all data"
      class="icon"
    />
    Clear all data
  </button>

  <div class="subtitle muted">
    Permanently deletes all topics and settings from this device.
  </div>
</div>

      <!-- Credits -->
      <div class="section">
        <h3>Credits</h3>
        <p class="muted">
          <a
            href="https://www.flaticon.com/free-icons/continuous-learning"
            title="continuous learning icons"
            target="_blank"
            rel="noopener noreferrer"
          >
            Continuous learning icons created by dwicon – Flaticon
          </a>
        </p>
      </div>

    </section>

  </main>

  <!-- ===============================
       SCRIPTS
  ================================ -->
  <script src="state.js"></script>
  <script src="intervals.js"></script>
  <script src="calendar.js"></script>
  <script src="library.js"></script>
  <script src="ui-events.js"></script>
  <script src="app.js"></script>

</body>
</html>